window.optimizedResize=function(){function t(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,66))}function n(){i.forEach(function(t){t()}),o=!1}function e(t){t&&i.push(t)}var i=[],o=!1;return{add:function(n){i.length||window.addEventListener("resize",t),e(n)}}}(),window.optimizedScroll=function(){function t(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,66))}function n(){i.forEach(function(t){t()}),o=!1}function e(t){t&&i.push(t)}var i=[],o=!1;return{add:function(n){i.length||window.addEventListener("scroll",t),e(n)}}}(),function(t){var n,e,i,o,s=function(t){var o=new google.maps.LatLng(t.lat,t.lng),s=new google.maps.Marker({content:'<div class="flexmls-infowindow">\t\t\t\t\t<a class="flexmls-infowindow-image" href="'+t.url+'" style="background-image:url('+t.image+');"></a>\t\t\t\t\t<div class="flexmls-infowindow-details">\t\t\t\t\t\t<div class="flexmls-infowindow-status">'+t.status+'</div>\t\t\t\t\t\t<div class="flexmls-infowindow-price">'+t.price+'</div>\t\t\t\t\t\t<div class="flexmls-infowindow-quickfacts">'+t.quickfacts+'</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="flexmls-infowindow-viewlisting"><a href="'+t.url+'">See details</a></div>\t\t\t\t</div>',icon:flexmls.pluginurl+"/dist/assets/gmaps_flexmls_pin.png",map:i,position:o});n.extend(o),i.fitBounds(n),google.maps.event.addListener(s,"click",function(){e.close(),e.setContent(this.content),e.open(i,s)})},l=function(){o=flexmls_data.gmaps,i=new google.maps.Map(document.getElementById("flexmls-listing-map"),{center:{lat:0,lng:0},disableDoubleClickZoom:!0,mapTypeControl:!1,scrollwheel:!1,zoom:4}),n=new google.maps.LatLngBounds,e=new google.maps.InfoWindow;for(var t=0;t<o.length;t++)s(o[t]);google.maps.event.addDomListener(window,"resize",function(){i.fitBounds(n)})},a=function(){t("#flexmls-listing-map").length&&setTimeout(function(){"object"==typeof google&&"object"==typeof google.maps?l():(console.log("Google maps is not loaded"),a())},500)},d=function(){t('select[name="listings_per_page"]').change(function(){var n=t(this).data("baseurl");window.location=n+"?listings_per_page="+t(this).val()}),t('select[name="listings_order_by"]').change(function(){var n=t(this).data("baseurl");window.location=n+"?listings_order_by="+t(this).val()})};t(document).ready(function(t){d(),a()})}(jQuery),function(t){var n=function(){t("body").removeClass("flexmls-no-js")};t(document).ready(function(){n()})}(jQuery);