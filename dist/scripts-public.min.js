window.optimizedResize=function(){function n(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,66))}function e(){i.forEach(function(n){n()}),o=!1}function t(n){n&&i.push(n)}var i=[],o=!1;return{add:function(e){i.length||window.addEventListener("resize",n),t(e)}}}(),window.optimizedScroll=function(){function n(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,66))}function e(){i.forEach(function(n){n()}),o=!1}function t(n){n&&i.push(n)}var i=[],o=!1;return{add:function(e){i.length||window.addEventListener("scroll",n),t(e)}}}(),function(n){var e=function(){n('button[data-flexmls-button="leadgen"]').on("click",function(){n(".flexmls-leadgen-notice").remove();var e=n(this),t=n(e).html();n(e).html("Sending").attr("disabled",!0);var i=n(e).data("form"),o={action:"flexmls_leadgen",name:n(i).find('input[name="name"]').val(),email:n(i).find('input[name="email"]').val(),message:n(i).find('textarea[name="message"]').val(),color:n(i).find('input[name="color"]').val(),source:n(i).find('input[name="source"]').val(),success:n(i).find('input[name="success"]').val()};n(i).find('input[name="street"]').length&&(o.street=n(i).find('input[name="street"]').val(),o.city=n(i).find('input[name="city"]').val(),o.state=n(i).find('input[name="state"]').val(),o.zip=n(i).find('input[name="zip"]').val()),n(i).find('input[name="phone"]').length&&(o.phone=n(i).find('input[name="phone"]').val()),n.post(flexmls.ajaxurl,o,function(o){var a="warning";1===o.success&&(a="success"),n(i).prepend('<div class="flexmls-leadgen-notice flexmls-leadgen-notice-'+a+'">'+o.message+"</div>"),n(e).html(t).removeAttr("disabled"),console.log(o)},"json")})};n(document).ready(function(){e()})}(jQuery),function(n){var e,t,i,o,a=function(n){var o=new google.maps.LatLng(n.lat,n.lng),a=new google.maps.Marker({content:'<div class="flexmls-infowindow">\t\t\t\t\t<a class="flexmls-infowindow-image" href="'+n.url+'" style="background-image:url('+n.image+');"></a>\t\t\t\t\t<div class="flexmls-infowindow-details">\t\t\t\t\t\t<div class="flexmls-infowindow-status">'+n.status+'</div>\t\t\t\t\t\t<div class="flexmls-infowindow-price">'+n.price+'</div>\t\t\t\t\t\t<div class="flexmls-infowindow-quickfacts">'+n.quickfacts+'</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="flexmls-infowindow-viewlisting"><a href="'+n.url+'">See details</a></div>\t\t\t\t</div>',icon:flexmls.pluginurl+"/dist/assets/gmaps_flexmls_pin.png",map:i,position:o});e.extend(o),i.fitBounds(e),google.maps.event.addListener(a,"click",function(){t.close(),t.setContent(this.content),t.open(i,a)})},s=function(){o=flexmls_data.gmaps,i=new google.maps.Map(document.getElementById("flexmls-listing-map"),{center:{lat:0,lng:0},disableDoubleClickZoom:!0,mapTypeControl:!1,scrollwheel:!1,zoom:4}),e=new google.maps.LatLngBounds,t=new google.maps.InfoWindow;for(var n=0;n<o.length;n++)a(o[n]);google.maps.event.addDomListener(window,"resize",function(){i.fitBounds(e)})},l=function(){n("#flexmls-listing-map").length&&setTimeout(function(){"object"==typeof google&&"object"==typeof google.maps?s():(console.log("Google maps is not loaded"),l())},500)},d=function(){n('select[name="listings_per_page"]').change(function(){var e=n(this).data("baseurl");window.location=e+"?listings_per_page="+n(this).val()}),n('select[name="listings_order_by"]').change(function(){var e=n(this).data("baseurl");window.location=e+"?listings_order_by="+n(this).val()})};n(document).ready(function(n){d(),l()})}(jQuery),function(n){var e=function(){n("body").removeClass("flexmls-no-js")};n(document).ready(function(){e()})}(jQuery);