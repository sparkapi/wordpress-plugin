window.optimizedResize=function(){function n(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,66))}function t(){i.forEach(function(n){n()}),o=!1}function e(n){n&&i.push(n)}var i=[],o=!1;return{add:function(t){i.length||window.addEventListener("resize",n),e(t)}}}(),window.optimizedScroll=function(){function n(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,66))}function t(){i.forEach(function(n){n()}),o=!1}function e(n){n&&i.push(n)}var i=[],o=!1;return{add:function(t){i.length||window.addEventListener("scroll",n),e(t)}}}(),function(n){var t=function(){n('button[data-flexmls-button="leadgen"]').on("click",function(){var t=n(this),e=n(t).html();n(t).html("Sending").attr("disabled",!0);var i=n(t).data("form"),o={action:"flexmls_leadgen",name:n(i).find('input[name="name"]').val(),email:n(i).find('input[name="email"]').val(),street:n(i).find('input[name="street"]').val()||"",city:n(i).find('input[name="city"]').val()||"",state:n(i).find('input[name="state"]').val()||"",zip:n(i).find('input[name="zip"]').val()||"",phone:n(i).find('input[name="phone"]').val()||"",message:n(i).find('textarea[name="message"]').val(),color:n(i).find('input[name="color"]').val(),source:n(i).find('input[name="source"]').val()};n.post(flexmls.ajaxurl,o,function(i){console.log(i),n(t).html(e).removeAttr("disabled")},"json")})};n(document).ready(function(){t()})}(jQuery),function(n){var t,e,i,o,a=function(n){var o=new google.maps.LatLng(n.lat,n.lng),a=new google.maps.Marker({content:'<div class="flexmls-infowindow">\t\t\t\t\t<a class="flexmls-infowindow-image" href="'+n.url+'" style="background-image:url('+n.image+');"></a>\t\t\t\t\t<div class="flexmls-infowindow-details">\t\t\t\t\t\t<div class="flexmls-infowindow-status">'+n.status+'</div>\t\t\t\t\t\t<div class="flexmls-infowindow-price">'+n.price+'</div>\t\t\t\t\t\t<div class="flexmls-infowindow-quickfacts">'+n.quickfacts+'</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="flexmls-infowindow-viewlisting"><a href="'+n.url+'">See details</a></div>\t\t\t\t</div>',icon:flexmls.pluginurl+"/dist/assets/gmaps_flexmls_pin.png",map:i,position:o});t.extend(o),i.fitBounds(t),google.maps.event.addListener(a,"click",function(){e.close(),e.setContent(this.content),e.open(i,a)})},l=function(){o=flexmls_data.gmaps,i=new google.maps.Map(document.getElementById("flexmls-listing-map"),{center:{lat:0,lng:0},disableDoubleClickZoom:!0,mapTypeControl:!1,scrollwheel:!1,zoom:4}),t=new google.maps.LatLngBounds,e=new google.maps.InfoWindow;for(var n=0;n<o.length;n++)a(o[n]);google.maps.event.addDomListener(window,"resize",function(){i.fitBounds(t)})},s=function(){n("#flexmls-listing-map").length&&setTimeout(function(){"object"==typeof google&&"object"==typeof google.maps?l():(console.log("Google maps is not loaded"),s())},500)},d=function(){n('select[name="listings_per_page"]').change(function(){var t=n(this).data("baseurl");window.location=t+"?listings_per_page="+n(this).val()}),n('select[name="listings_order_by"]').change(function(){var t=n(this).data("baseurl");window.location=t+"?listings_order_by="+n(this).val()})};n(document).ready(function(n){d(),s()})}(jQuery),function(n){var t=function(){n("body").removeClass("flexmls-no-js")};n(document).ready(function(){t()})}(jQuery);