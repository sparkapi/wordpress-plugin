!function(t){t("body").append('<div id="flexmls-tinymce-shortcode-generator" style="display: none;"></div>'),tinymce.create("tinymce.plugins.FlexmlsButtons",{init:function(e,o){e.addButton("flexmlsidx_shortcodes",{tooltip:"Add a Flexmls widget",title:"Add Flexmls Widget",image:flexmls.pluginurl+"/dist/assets/tinymce_flexmls_pin.png",onclick:function(){var o,l,n=tinyMCE.activeEditor.selection.getContent({format:"text"});if(!0==!!n){var i=n.replace(/^\[/,"");i=i.replace(/\]$/,""),i=i.split(" "),o=i[0].replace(/flexmls_/,"")}t.post(ajaxurl,{action:"tinymce_popup"},function(e){l=e,t("#flexmls-tinymce-shortcode-generator").html(e),tb_show("Flexmls&reg; Shortcode Generator","#TB_inline?height=550&width=500&inlineId=flexmls-tinymce-shortcode-generator"),t("#TB_ajaxContent").css({height:"100%","overflow-y":"scroll",position:"relative",width:"auto"}),!0==!!o&&t('.flexmls-shortcode-selector[data-shortcode="'+o+'"]').length&&t('.flexmls-shortcode-selector[data-shortcode="'+o+'"]').trigger("click")},"html");var s;t("body").on("click",".flexmls-shortcode-selector",function(e){e.preventDefault();var o=t(this).data("class");s=t(this).data("shortcode"),t.post(ajaxurl,{action:"tinymce_popup_shortcode",class:o,shortcode:s},function(e){t("#TB_ajaxContent").html(e)},"html")}),t("body").on("click",".flexmls-shortcode-back",function(e){e.preventDefault(),t("#TB_ajaxContent").html(l)}),t("body").on("click",".flexmls-insert-shortcode",function(){e.selection.setContent("[flexmls_"+s+" once testing is complete]"),tb_remove()})}})},createControl:function(t,e){return null}}),tinymce.PluginManager.add("flexmlsidx",tinymce.plugins.FlexmlsButtons)}(jQuery);